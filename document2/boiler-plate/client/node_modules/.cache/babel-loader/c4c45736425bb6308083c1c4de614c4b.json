{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LGPC\\\\document2\\\\boiler-plate\\\\client\\\\src\\\\hoc\\\\auth.js\";\nimport React, { useEffect } from 'react';\nimport Axios from 'axios';\nimport { useDispatch } from 'react-redux';\nimport { auth } from '../_actions/user_action';\n// import { response } from 'express';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function (SpecificComponent, option) {\n  var _s = $RefreshSig$();\n  let adminRoute = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  function AuthenticationCheck(props) {\n    _s();\n    const dispatch = useDispatch();\n    useEffect(() => {\n      dispatch(auth()).then(response => {\n        if (!response.payload.isAuth) {\n          if (option) {\n            props.history.push('/login');\n          }\n        } else {\n          if (adminRoute && !response.payload.isAdmin) {\n            props.history.push('/');\n          } else {\n            if (option === false) {\n              props.history.push('/');\n            }\n          }\n        }\n      });\n    }, []);\n    return /*#__PURE__*/_jsxDEV(SpecificComponent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, this);\n  }\n  _s(AuthenticationCheck, \"rAh3tY+Iv6hWC9AI4Dm+rCbkwNE=\", false, function () {\n    return [useDispatch];\n  });\n  return AuthenticationCheck;\n}","map":{"version":3,"names":["React","useEffect","Axios","useDispatch","auth","SpecificComponent","option","adminRoute","AuthenticationCheck","props","dispatch","then","response","payload","isAuth","history","push","isAdmin"],"sources":["C:/Users/LGPC/document2/boiler-plate/client/src/hoc/auth.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport Axios from 'axios';\r\nimport { useDispatch } from 'react-redux';\r\nimport { auth } from '../_actions/user_action';\r\n// import { response } from 'express';\r\n\r\nexport default function (SpecificComponent, option, adminRoute = null) {\r\n    function AuthenticationCheck(props) {\r\n        const dispatch = useDispatch();\r\n        useEffect(() => {\r\n            dispatch(auth()).then(response => {\r\n\r\n                if (!response.payload.isAuth) {\r\n                    if (option) {\r\n                        props.history.push('/login')\r\n                    }\r\n                } else {\r\n                    if (adminRoute && !response.payload.isAdmin) {\r\n                        props.history.push('/')\r\n                    } else {\r\n                        if (option === false) {\r\n                            props.history.push('/')\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n\r\n        }, [])\r\n        return (\r\n            <SpecificComponent />\r\n        )\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    return AuthenticationCheck\r\n}"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,IAAI,QAAQ,yBAAyB;AAC9C;AAAA;AAEA,eAAe,UAAUC,iBAAiB,EAAEC,MAAM,EAAqB;EAAA;EAAA,IAAnBC,UAAU,uEAAG,IAAI;EACjE,SAASC,mBAAmB,CAACC,KAAK,EAAE;IAAA;IAChC,MAAMC,QAAQ,GAAGP,WAAW,EAAE;IAC9BF,SAAS,CAAC,MAAM;MACZS,QAAQ,CAACN,IAAI,EAAE,CAAC,CAACO,IAAI,CAACC,QAAQ,IAAI;QAE9B,IAAI,CAACA,QAAQ,CAACC,OAAO,CAACC,MAAM,EAAE;UAC1B,IAAIR,MAAM,EAAE;YACRG,KAAK,CAACM,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;UAChC;QACJ,CAAC,MAAM;UACH,IAAIT,UAAU,IAAI,CAACK,QAAQ,CAACC,OAAO,CAACI,OAAO,EAAE;YACzCR,KAAK,CAACM,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;UAC3B,CAAC,MAAM;YACH,IAAIV,MAAM,KAAK,KAAK,EAAE;cAClBG,KAAK,CAACM,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;YAC3B;UACJ;QACJ;MACJ,CAAC,CAAC;IAEN,CAAC,EAAE,EAAE,CAAC;IACN,oBACI,QAAC,iBAAiB;MAAA;MAAA;MAAA;IAAA,QAAG;EAE7B;EAAC,GAxBQR,mBAAmB;IAAA,QACPL,WAAW;EAAA;EA6BhC,OAAOK,mBAAmB;AAC9B"},"metadata":{},"sourceType":"module"}