{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LGPC\\\\document2\\\\boiler-plate\\\\client\\\\src\\\\hoc\\\\auth.js\";\nimport React, { useEffect } from 'react';\nimport Axios from 'axios';\nimport { useDispatch } from 'react-redux';\nimport { auth } from '../_actions/user_action';\nimport { response } from 'express';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function (SpecificComponent, option) {\n  var _s = $RefreshSig$();\n  let adminRoute = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  function AuthenticationCheck(props) {\n    _s();\n    const dispatch = useDispatch();\n    useEffect(() => {\n      dispatch(auth()).then(response => {\n        if (!response.payload.isAuth) {\n          if (option) {\n            props.history.push('/login');\n          }\n        } else {\n          if (adminRoute && !response.payload.isAdmin) {\n            props.history.push('/');\n          }\n        }\n      });\n    }, []);\n    return /*#__PURE__*/_jsxDEV(SpecificComponent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, this);\n  }\n  _s(AuthenticationCheck, \"rAh3tY+Iv6hWC9AI4Dm+rCbkwNE=\", false, function () {\n    return [useDispatch];\n  });\n  return AuthenticationCheck;\n}","map":{"version":3,"names":["React","useEffect","Axios","useDispatch","auth","response","SpecificComponent","option","adminRoute","AuthenticationCheck","props","dispatch","then","payload","isAuth","history","push","isAdmin"],"sources":["C:/Users/LGPC/document2/boiler-plate/client/src/hoc/auth.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport Axios from 'axios';\r\nimport { useDispatch } from 'react-redux';\r\nimport { auth } from '../_actions/user_action';\r\nimport { response } from 'express';\r\n\r\nexport default function (SpecificComponent, option, adminRoute = null) {\r\n    function AuthenticationCheck(props) {\r\n        const dispatch = useDispatch();\r\n        useEffect(() => {\r\n            dispatch(auth()).then(response => {\r\n\r\n                if (!response.payload.isAuth) {\r\n                    if (option) {\r\n                        props.history.push('/login')\r\n                    }\r\n                } else {\r\n                    if (adminRoute && !response.payload.isAdmin) {\r\n                        props.history.push('/')\r\n                    }\r\n\r\n                }\r\n            })\r\n\r\n        }, [])\r\n        return (\r\n            <SpecificComponent />\r\n        )\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    return AuthenticationCheck\r\n}"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,IAAI,QAAQ,yBAAyB;AAC9C,SAASC,QAAQ,QAAQ,SAAS;AAAC;AAEnC,eAAe,UAAUC,iBAAiB,EAAEC,MAAM,EAAqB;EAAA;EAAA,IAAnBC,UAAU,uEAAG,IAAI;EACjE,SAASC,mBAAmB,CAACC,KAAK,EAAE;IAAA;IAChC,MAAMC,QAAQ,GAAGR,WAAW,EAAE;IAC9BF,SAAS,CAAC,MAAM;MACZU,QAAQ,CAACP,IAAI,EAAE,CAAC,CAACQ,IAAI,CAACP,QAAQ,IAAI;QAE9B,IAAI,CAACA,QAAQ,CAACQ,OAAO,CAACC,MAAM,EAAE;UAC1B,IAAIP,MAAM,EAAE;YACRG,KAAK,CAACK,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;UAChC;QACJ,CAAC,MAAM;UACH,IAAIR,UAAU,IAAI,CAACH,QAAQ,CAACQ,OAAO,CAACI,OAAO,EAAE;YACzCP,KAAK,CAACK,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;UAC3B;QAEJ;MACJ,CAAC,CAAC;IAEN,CAAC,EAAE,EAAE,CAAC;IACN,oBACI,QAAC,iBAAiB;MAAA;MAAA;MAAA;IAAA,QAAG;EAE7B;EAAC,GArBQP,mBAAmB;IAAA,QACPN,WAAW;EAAA;EA0BhC,OAAOM,mBAAmB;AAC9B"},"metadata":{},"sourceType":"module"}